//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;
enum STATE
{
N0,
N1,
N2,
N3,
N4
};
STATE current = N0;
//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------
void __fastcall TForm1::Button1Click(TObject *Sender)
{
String Chain;
Chain = Edit1->Text;
for(int i = 1; i <= Chain.Length();i++ )
  {
  switch(current)
    {
	case N0:
	  if(enterChain[i]=='x')
        {
		Memo1->Lines->Add("Переходимо в стан 2");
		current_state = 1;
		}
	  if(enterChain[i]=='y')
        {
		Memo1->Lines->Add("Переходимо в стан 4");
        current_state = STATE_Z3;
        }
    break;
	case N1:
	  if(enterChain[i]=='x')
        {
		Memo1->Lines->Add("Переходимо в стан 2");
        current_state = STATE_Z1;
        }
	  if(enterChain[i]=='y')
        {
		Memo1->Lines->Add("Переходимо в стан 5");
        current_state = STATE_Z4;
        }
    break;
	case N2:
	  if(enterChain[i]=='x')
        {
		Memo1->Lines->Add("Переходимо в стан 2");
        current_state = STATE_Z1;
        }
	  if(enterChain[i]=='y')
        {
		Memo1->Lines->Add("Переходимо в стан 5");
        current_state = STATE_Z4;
        }
    break;
	case N3:
	  if(enterChain[i]=='x')
        {
		Memo1->Lines->Add("Переходимо в стан 3");
        current_state = STATE_Z2;
        }
	  if(enterChain[i]=='y')
        {
		Memo1->Lines->Add("Переходимо в стан 1");
        current_state = STATE_Z0;
        }
    break;
	case N4:
	  if(enterChain[i]=='x')
        {
		Memo1->Lines->Add("Переходимо в стан 3");
        current_state = STATE_Z2;
        }
	  if(enterChain[i]=='y')
        {
		Memo1->Lines->Add("Переходимо в стан 1");
        current_state = STATE_Z0;
        }
    break;
    }
  }
  if(current_state==N4)   Memo1->Lines->Add("Ланцюжок належить граматиці кфц");
  else   Memo1->Lines->Add("Ланцюжок не належить граматиці кфц");
}
//---------------------------------------------------------------------------

